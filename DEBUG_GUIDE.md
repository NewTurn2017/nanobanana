# ğŸ” Windows ì°¸ì¡° ì´ë¯¸ì§€ ë””ë²„ê¹… ê°€ì´ë“œ

## í˜„ì¬ ìƒí™©
- âœ… í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” 100% í†µê³¼
- âŒ ì‹¤ì œ í”ŒëŸ¬ê·¸ì¸ì—ì„œëŠ” ì°¸ì¡° ì´ë¯¸ì§€ê°€ ë°˜ì˜ë˜ì§€ ì•ŠìŒ

## ë””ë²„ê¹… ë°©ë²•

### ë°©ë²• 1: callAPI í•¨ìˆ˜ êµì²´ (ê¶Œì¥)
1. `Nano-Banana-Gemini.jsx` íŒŒì¼ì„ ë°±ì—…í•˜ì„¸ìš”
2. `debug-reference-patch.jsx` íŒŒì¼ì„ ì—´ì–´ì„œ ì „ì²´ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”
3. `Nano-Banana-Gemini.jsx`ì—ì„œ `function callAPI` í•¨ìˆ˜ë¥¼ ì°¾ì•„ì„œ ì „ì²´ë¥¼ êµì²´í•˜ì„¸ìš”
4. `encodeImageBase64_debug` í•¨ìˆ˜ì™€ `saveDebugLog` í•¨ìˆ˜ë„ ì¶”ê°€í•˜ì„¸ìš”

### ë°©ë²• 2: ì§ì ‘ í…ŒìŠ¤íŠ¸
1. Photoshopì—ì„œ ì´ë¯¸ì§€ë¥¼ ì—´ê³  ì„ íƒ ì˜ì—­ì„ ë§Œë“œì„¸ìš”
2. Nano-Banana-Gemini ì‹¤í–‰
3. "ì´ë¯¸ì§€ ì¶”ê°€" ë²„íŠ¼ìœ¼ë¡œ ì°¸ì¡° ì´ë¯¸ì§€ 1-2ê°œ ì¶”ê°€
4. í”„ë¡¬í”„íŠ¸ ì…ë ¥ í›„ ìƒì„±

## ìƒì„±ë˜ëŠ” ë””ë²„ê·¸ íŒŒì¼ (ë°”íƒ•í™”ë©´)

### 1. `nano-api-call-debug.txt`
ì „ì²´ API í˜¸ì¶œ ê³¼ì •ì˜ ìƒì„¸ ë¡œê·¸:
- ê° ë‹¨ê³„ë³„ íƒ€ì„ìŠ¤íƒ¬í”„
- ë©”ì¸ ì´ë¯¸ì§€ ì¸ì½”ë”© ê³¼ì •
- ê° ì°¸ì¡° ì´ë¯¸ì§€ ì¸ì½”ë”© ê³¼ì •
- í˜ì´ë¡œë“œ êµ¬ì„± ê³¼ì •
- API ì‘ë‹µ

### 2. `nano-payload-debug.json`
ì‹¤ì œë¡œ Gemini APIë¡œ ì „ì†¡ë˜ëŠ” JSON í˜ì´ë¡œë“œ:
- ìˆœì„œ í™•ì¸: text â†’ main image â†’ reference images
- ê° ì´ë¯¸ì§€ì˜ base64 ë°ì´í„° í¬í•¨ ì—¬ë¶€

### 3. `nano-banana-debug.log`
ì¸ì½”ë”© ê³¼ì •ì˜ ìƒì„¸ ë¡œê·¸

## í™•ì¸í•´ì•¼ í•  ì£¼ìš” í¬ì¸íŠ¸

### 1. ì°¸ì¡° ì´ë¯¸ì§€ ì¸ì½”ë”© í™•ì¸
`nano-api-call-debug.txt`ì—ì„œ ë‹¤ìŒì„ í™•ì¸:
```
=== ENCODING REFERENCE IMAGES ===
Processing reference 1...
[REF1] Starting encode...
[REF1] File: C:\path\to\ref1.jpg
[REF1] Exists: true
[REF1] Encoded successfully: 12345 chars
Reference 1 added successfully
```

### 2. í˜ì´ë¡œë“œ ìˆœì„œ í™•ì¸
```
Payload order check:
  Text at position: 38
  Main image at position: 150
  âœ“ Order is CORRECT
```

### 3. í˜ì´ë¡œë“œ êµ¬ì„± í™•ì¸
`nano-payload-debug.json` íŒŒì¼ì„ ì—´ì–´ì„œ:
1. `"text":` ë¡œ ì‹œì‘í•˜ëŠ”ì§€
2. ê·¸ ë‹¤ìŒì— ë©”ì¸ ì´ë¯¸ì§€ ë°ì´í„°ê°€ ìˆëŠ”ì§€
3. ê·¸ ë‹¤ìŒì— ì°¸ì¡° ì´ë¯¸ì§€ ë°ì´í„°ê°€ ìˆëŠ”ì§€

JSON êµ¬ì¡° ì˜ˆì‹œ:
```json
{
  "contents": [{
    "role": "user",
    "parts": [
      {"text": "Generate an image: ..."},
      {"inlineData": {"mime_type": "image/jpeg", "data": "ë©”ì¸ì´ë¯¸ì§€BASE64"}},
      {"inlineData": {"mime_type": "image/jpeg", "data": "ì°¸ì¡°1BASE64"}},
      {"inlineData": {"mime_type": "image/jpeg", "data": "ì°¸ì¡°2BASE64"}}
    ]
  }]
}
```

## ê°€ëŠ¥í•œ ë¬¸ì œë“¤

### 1. ì¸ì½”ë”© ì‹¤íŒ¨
- certutil ëª…ë ¹ì–´ê°€ ì‹¤ì œë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
- íŒŒì¼ ê²½ë¡œì— íŠ¹ìˆ˜ë¬¸ìë‚˜ ê³µë°± ë¬¸ì œ

### 2. í˜ì´ë¡œë“œ ëˆ„ë½
- ì°¸ì¡° ì´ë¯¸ì§€ê°€ í˜ì´ë¡œë“œì— ì¶”ê°€ë˜ì§€ ì•ŠìŒ
- ì¡°ê±´ë¬¸ ë¬¸ì œë¡œ ê±´ë„ˆë›°ì–´ì§

### 3. API ê±°ë¶€
- Gemini APIê°€ ì°¸ì¡° ì´ë¯¸ì§€ë¥¼ ë¬´ì‹œ
- ì´ë¯¸ì§€ í¬ê¸°ë‚˜ í˜•ì‹ ë¬¸ì œ

## ë‹¤ìŒ ë‹¨ê³„

1. ìœ„ì˜ ë””ë²„ê·¸ íŒŒì¼ë“¤ì„ í™•ì¸í•˜ì„¸ìš”
2. íŠ¹íˆ `nano-api-call-debug.txt`ì—ì„œ ERRORë‚˜ FAILEDë¥¼ ì°¾ì•„ë³´ì„¸ìš”
3. `nano-payload-debug.json`ì—ì„œ ì°¸ì¡° ì´ë¯¸ì§€ ë°ì´í„°ê°€ ì‹¤ì œë¡œ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”
4. ë¬¸ì œë¥¼ ë°œê²¬í•˜ë©´ í•´ë‹¹ ë¶€ë¶„ì˜ ë¡œê·¸ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”

## ë¹ ë¥¸ í™•ì¸ ì‚¬í•­

Windows PowerShellì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸:
```powershell
# í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±
echo "test" > test.txt

# certutil í…ŒìŠ¤íŠ¸
certutil -encode test.txt output.txt

# ê²°ê³¼ í™•ì¸
type output.txt
```

ì´ ëª…ë ¹ì´ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ certutil ìì²´ì˜ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.